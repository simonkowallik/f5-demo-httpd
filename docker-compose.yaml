version: '3.8'

services:
  f5-demo-nginx:
    build:
      context: .
      dockerfile: Dockerfile.nginx
    container_name: f5-demo-nginx
    ports:
      - "${ADDRESS:-0.0.0.0}:${HTTP_PORT:-80}:80"
      - "${ADDRESS:-0.0.0.0}:${HTTPS_PORT:-443}:443"
    environment:
      - F5DEMO_NODENAME=${F5DEMO_NODENAME:-F5 Docker vLab}
      - F5DEMO_NODENAME_SSL=${F5DEMO_NODENAME_SSL:-}
      - F5DEMO_SHORT_NODENAME=${F5DEMO_SHORT_NODENAME:-}
      - F5DEMO_COLOR=${F5DEMO_COLOR:-}
      - F5DEMO_COLOR_SSL=${F5DEMO_COLOR_SSL:-}
      - F5DEMO_BACKEND_URL=${F5DEMO_BACKEND_URL:-http://127.0.0.1/backend.shtml}
      - F5DEMO_APP=${F5DEMO_APP:-index}
    restart: unless-stopped
